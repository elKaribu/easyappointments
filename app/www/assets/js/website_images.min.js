/* ----------------------------------------------------------------------------
 * Easy!Appointments - Open Source Web Scheduler
 *
 * @package     EasyAppointments
 * @author      A.Tselegidis <alextselegidis@gmail.com>
 * @copyright   Copyright (c) 2013 - 2020, Alex Tselegidis
 * @license     http://opensource.org/licenses/GPL-3.0 - GPLv3
 * @link        http://easyappointments.org
 * @since       v1.0.0
 * ---------------------------------------------------------------------------- */
!function(){"use strict";var e=function(){this.enableCancel=!1,this.enableSubmit=!1};e.prototype.setup=function(e){$(".website-images tbody").empty(),$.each(e,function(e,t){$("<tr/>",{html:[$("<td/>",{html:[$("<input/>",{id:e+"-website-image",type:"hidden",class:"website-image-url form-control form-control-sm editable","data-public-key":"8fa0bc9e7f65bd03a8d0","data-images-only":!0,"data-tabs":"file","data-effects":"crop, flip, enhance, grayscale, blur, rotate, mirror, sharp, invert",disabled:!0})]}),$("<td/>",{html:[$("<img/>",{class:"website-image-img",height:"60px",src:t})]}),$("<td/>",{html:[$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm edit-website-image",title:EALang.edit,html:[$("<span/>",{class:"fas fa-edit"})]}),$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm delete-website-image",title:EALang.delete,html:[$("<span/>",{class:"fas fa-trash-alt"})]}),$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm save-website-image d-none",title:EALang.save,html:[$("<span/>",{class:"fas fa-check-circle"})]}),$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm cancel-website-image d-none",title:EALang.cancel,html:[$("<span/>",{class:"fas fa-ban"})]})]})]}).appendTo(".website-images tbody"),$("#"+e+"-website-image").val(t)}.bind(this))},e.prototype.bindEventHandlers=function(){$(".add-website-image").on("click",function(){$("<tr/>",{html:[$("<td/>",{html:[$("<input/>",{id:index+"-website-image",type:"hidden",class:"website-image-url form-control form-control-sm editable","data-public-key":"8fa0bc9e7f65bd03a8d0","data-images-only":!0,"data-tabs":"file","data-effects":"crop, flip, enhance, grayscale, blur, rotate, mirror, sharp, invert",disabled:!1})]}),$("<td/>",{html:[$("<img/>",{class:"website-image-img",height:"60px",src:""})]}),$("<td/>",{html:[$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm edit-website-image",title:EALang.edit,html:[$("<span/>",{class:"fas fa-edit"})]}),$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm delete-website-image",title:EALang.delete,html:[$("<span/>",{class:"fas fa-trash-alt"})]}),$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm save-website-image d-none",title:EALang.save,html:[$("<span/>",{class:"fas fa-check-circle"})]}),$("<button/>",{type:"button",class:"btn btn-outline-secondary btn-sm cancel-website-image d-none",title:EALang.cancel,html:[$("<span/>",{class:"fas fa-ban"})]})]})]}).appendTo(".website-images tbody").find(".edit-website-image").trigger("click")}.bind(this)),$(document).on("click",".edit-website-image",(function(){$(this).closest("table").find(".editable").each((function(e,t){t.reset&&t.reset()})),$(this).parent().parent().children().trigger("edit"),$(this).parent().parent().find(".website-image-url").prop("disabled",!1),$(this).parent().parent().find(".website-image-url").focus();var e=$(this).closest("tr");e.find(".edit-website-image, .delete-website-image").addClass("d-none"),e.find(".save-website-image, .cancel-website-image").removeClass("d-none"),e.find("select,input:text").addClass("form-control form-control-sm")})),$(document).on("click",".delete-website-image",(function(){$(this).parent().parent().remove()})),$(document).on("click",".cancel-website-image",function(e){var t=e.target,i=$(t).closest("tr");this.enableCancel=!0,i.find(".cancel-editable").trigger("click"),this.enableCancel=!1,i.find(".edit-website-image, .delete-website-image").removeClass("d-none"),i.find(".save-website-image, .cancel-website-image").addClass("d-none")}.bind(this)),$(document).on("click",".save-website-image",function(e){var t=e.target,i=$(t).closest("tr");this.enableSubmit=!0,i.find(".editable .submit-editable").trigger("click"),this.enableSubmit=!1,i.find(".save-website-image, .cancel-website-image").addClass("d-none"),i.find(".edit-website-image, .delete-website-image").removeClass("d-none"),i.find(".website-image-img").prop("src",i.find(".website-image-url").val()),i.find(".website-image-url").prop("disabled",!0)}.bind(this))},e.prototype.get=function(){var e={};return $(".website-images tbody tr").each(function(t,i){var a=$(i);e[t]=a.find(".website-image-url").val()}.bind(this)),e},e.prototype.reset=function(){},window.WebsiteImages=e}();
